---
import GithubIcon from "@assets/GithubIcon.astro";
import LinkedinIcon from "@assets/LinkedinIcon.astro";
import kanbanApp from "@assets/kanbanAppWM.webp";
import worldM from "@assets/worldM.webp";

import LinksDesign from "@components/LinksDesign.astro";
import ProjectCard from "@components/ProjectCard.astro";
import SliderTechnologiesT from "@components/SliderTechnologiesT.astro";
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import EmailButton from "@components/EmailButton.astro";
import FooterSection from "@components/FooterSection.astro";
import EmailIcon from "@components/EmailIcon.astro";
---

<Layout>
  <div
    class="relative px-6 py-8 md:p-10 overflow-hidden xl:px-20 xl:pt-20 1xl:px-28 1xl:pt-28 3xl:px-40"
  >
    <span
      id="circle-bg"
      class="absolute z-[-1] w-[100px] aspect-square rounded-full opacity-100 blur-3xl bg-PinkC right-[-50px] md:w-[200px] md:opacity-55 md:right-[-90px] 1xl:w-[300px] 1xl:opacity-40 1xl:right-[-150px] 3xl:w-[400px] 3xl:opacity-25 3xl:right-[-70px] 3xl:top-0"
    ></span>
    <span
      id="circle-bg"
      class="absolute w-[100px] aspect-square z-[-1] rounded-full opacity-70 blur-3xl bg-PinkC top-[300px] left-0 md:w-[200px] md:opacity-45 md:top-[400px] 3xl:w-[400px] 3xl:opacity-25"
    ></span>

    <header>
      <h1
        id="observer-style"
        class="text-white text-4xl font-black md:text-7xl md:w-[50%] xl:text-[100px]"
      >
        DESARROLLADOR FRONTEND
      </h1>
      <div
        id="observer-style"
        class="flex items-center gap-[.75rem] text-white pt-[.5rem]"
      >
        <LinksDesign
          aria_label="Perfil de Linkedin"
          url="https://www.linkedin.com/in/diego-peralta-b9b012291/"
        >
          <LinkedinIcon className="w-4" />
        </LinksDesign>

        <LinksDesign
          aria_label="Perfil de Github"
          url="https://github.com/DiegoPMz"
        >
          <GithubIcon className="w-4" />
        </LinksDesign>

        <EmailButton
          setId={"testing"}
          setCopy={"diego.pmz08@gmail.com"}
          setMessageRes={"Copiado"}
          id={"link-style"}
        >
          <EmailIcon className="w-4 relative " />
        </EmailButton>
      </div>
    </header>

    <main>
      <div
        id="observer-style"
        class="pt-[5rem] flex flex-col md:gap-3 1xl:w-[58%]"
      >
        <span class="font-normal text-lg text-Gray md:text-xl">
          Hola, me llamo
          <span class="text-BlueC font-bold"> Diego</span>.
        </span>
        <p class="text-2xl font-semibold text-Gray md:text-3xl md:w-[85%]">
          Soy un
          <span class="text-white"> Desarrollador</span>
          mexicano con sólidos conocimientos en
          <span class="text-white">desarrollo web</span>. Apasionado por
          transformar diseños en
          <span class="text-white">experiencias interactivas</span>.
        </p>
      </div>

      <div class="pt-[80px] md:pb-[30px] md:pt-[100px]">
        <span
          id="observer-style"
          class="block w-[15rem] font-normal text-lg text-Gray md:text-xl"
          >Tecnologías detrás de mis Proyectos:
        </span>
      </div>

      <SliderTechnologiesT />

      <section
        id="projects-bg"
        class="pt-[60px] pb-[5.625rem] flex flex-col gap-12 relative after:bg-gradient-to-b after:from-Black after:via-Black md:pt-[160px]"
      >
        <span
          id="circle-bg"
          class="absolute w-[100px] aspect-square rounded-full z-[-1] opacity-50 blur-3xl bg-PinkC md:w-[200px] md:opacity-45 3xl:w-[400px] 3xl:opacity-25 3xl:left-[-100px] 3xl:top-[300px]"
        ></span>

        <span
          class="absolute w-[100px] z-[-1] aspect-square rounded-full opacity-70 blur-3xl bg-PinkC right-[-30px] top-[600px] md:top-[800px] md:w-[200px] 3xl:w-[400px] 3xl:opacity-25 3xl:top-[1200px]"
        ></span>
        <span
          class="absolute w-[100px] aspect-square rounded-full opacity-70 z-[-1] blur-3xl bg-PinkC left-0 bottom-0 md:w-[200px] 3xl:w-[300px] 3xl:left-[400px] 3xl:bottom-[150px] 3xl:opacity-25"
        ></span>

        <h2
          id="observer-style"
          class="text-[2rem] text-center text-white font-normal z-10 md:text-[3rem] md:pb-[80px] 1xl:text-[4rem] 3xl:pt-[100px]"
        >
          MIS PROYECTOS
        </h2>

        <div class="flex flex-col gap-16 items-center md:gap-32 1xl:gap-48">
          <ProjectCard
            url="/detalles/Where-In-The-World"
            title="Where in the world?"
            des="Descubre Nuestro Planeta: Detalles y Curiosidades de Cada Rincón del Mundo."
          >
            <Image
              class="lg:w-[80%] aspect-mockup hover:scale-[1.02] transition-all ease-in duration-150"
              src={worldM}
              alt="Proyecto 'Where in the world?'"
              loading="eager"
            />
          </ProjectCard>

          <ProjectCard
            url="/detalles/KanbanApp"
            title="KanbanApp"
            des="Organiza tus Tareas de Forma Eficiente: Gestiona Actividades con Claridad y Flexibilidad."
          >
            <Image
              class="lg:w-[80%] aspect-mockup hover:scale-[1.02] transition-all ease-in duration-150"
              src={kanbanApp}
              alt="Proyecto 'KanbanApp'"
              loading="eager"
            />
          </ProjectCard>
        </div>

        <p
          id="observer-style"
          class="font-normal text-2xl text-center text-Gray pt-[32px] md:text-3xl 1xl:py-[140px] 1xl:w-[50%] ms-auto me-auto"
        >
          Gracias por detenerte en mi página. Tu visita es realmente apreciada.
          ¡Espero que hayas encontrado algo interesante y valioso durante tu
          exploración!
        </p>
      </section>

      <FooterSection />
    </main>
  </div>
</Layout>

<style>
  #observer-style {
    transform: translateY(-20px);
    opacity: 0;

    transition:
      transform 0.4s linear,
      opacity 0.4s linear;
  }

  #glass {
    /* width: fit-content;

    display: flex;
    justify-content: center;
    align-items: center;

    position: absolute;
    top: 0;
    lef: 0; */
    /* right: 300px; */

    /* rotate: 60deg; */

    /* z-index: 200; */
  }
  #layer {
    /* width: 30px;
    height: 100vh;
    margin: 1px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.15);
    backdrop-filter: blur(30px); */

    /* background-color: red; */
  }
</style>

<script>
  const options = {
    rootMargin: "0px",
    threshold: 1.0,
  };

  const callback = (entries, observer) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.style.transform = "translateY(0)";
        entry.target.style.opacity = "1";
      }
    });
  };

  const elements = document.querySelectorAll("#observer-style");

  const observer = new IntersectionObserver(callback, options);
  elements.forEach((el) => observer.observe(el));
</script>
